(function(c){c.fn.textShadow=function(b){if(c.browser.msie){var a=c.browser.version<7;return this.each(function(){var e=c(this),d=e.textShadowParse(this.currentStyle["text-shadow"]),d=c.extend(d,b);e.textShadowRemove();if(!(d.x==0&&d.y==0&&d.radius==0)){e.css("position")=="static"&&e.css({position:"relative"});e.css({zIndex:"0"});a&&e.css({zoom:"1"});var f=document.createElement("span");c(f).addClass("jQueryTextShadow");c(f).html(e.html());c(f).css({padding:this.currentStyle.padding,width:e.width(),position:"absolute",zIndex:"-1",color:d.color!=null?d.color:e.css("color"),left:-parseInt(d.radius)+parseInt(d.x)+"px",top:-parseInt(d.radius)+parseInt(d.y)+"px"});d.radius!=0&&(d.opacity!=null?c(f).css("filter","progid:DXImageTransform.Microsoft.Blur(pixelradius="+parseInt(d.radius)+", enabled='true', makeShadow='true', ShadowOpacity="+d.opacity+")"):c(f).css("filter","progid:DXImageTransform.Microsoft.Blur(pixelradius="+parseInt(d.radius)+", enabled='true')"));e.append(f)}})}};c.fn.textShadowParse=function(b){var b=String(b).replace(/^\s+|\s+$/gi,"").replace(/\s*!\s*important/i,"").replace(/\(\s*([^,\)]+)\s*,\s*([^,\)]+)\s*,\s*([^,\)]+)\s*,\s*([^\)]+)\s*\)/g,"($1/$2/$3/$4)").replace(/\(\s*([^,\)]+)\s*,\s*([^,\)]+)\s*,\s*([^\)]+)\s*\)/g,"($1/$2/$3)"),a={x:0,y:0,radius:0,color:null};if(b.length>1||b[0].toLowerCase()!="none"){var b=b.replace(/\//g,","),c;if(b.match(/(\#[0-9a-f]{6}|\#[0-9a-f]{3}|(rgb|hsb)a?\([^\)]*\)|\b[a-z]+\b)/i)&&(c=RegExp.$1))a.color=c.replace(/^\s+/,""),b=b.replace(a.color,"");b=b.replace(/^\s+|\s+$/g,"").split(/\s+/).map(function(a){return(a||"").replace(/^0[a-z]*$/,"")?a:0});switch(b.length){case 1:a.x=a.y=b[0];break;case 2:a.x=b[0];a.y=b[1];break;case 3:a.x=b[0],a.y=b[1],a.radius=b[2]}if(!a.x&&!a.y&&!a.radius||a.color=="transparent")a.x=a.y=a.radius=0,a.color=null}return a};c.fn.textShadowRemove=function(){if(c.browser.msie)return this.each(function(){c(this).children("span.jQueryTextShadow").remove()})}})(jQuery);if(typeof Array.prototype.map=="undefined")Array.prototype.map=function(c){for(var b=Array(this.length),a=0;a<this.length;a++)b[a]=c(this[a]);return b};